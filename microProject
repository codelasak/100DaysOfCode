#include <stdio.h>
#include <stdlib.h>

char lokasyon[5], gun[15],havaDurumu[10];
int max, min, avg, ruzgarHizi, tmax = 0, sumAvg = 0, sumruzgar=0;


int analiz (void){
FILE *kaynak;
FILE *kaynak1;
FILE *hedef = fopen("hedef.txt", "w");
    //C:/hedef.txt
if ((kaynak = fopen("kaynak.txt", "r+")) == NULL) {
  printf("No such file\n");
  exit(1);
  }
    
if ((kaynak1 = fopen("kaynak.txt", "r+")) == NULL) {
  printf("No such file\n");
  exit(1);
  }
  while (fscanf(kaynak, "%s %s %d %d %d %s %d", lokasyon, gun, &max, &min, &avg, havaDurumu, &ruzgarHizi) == 7) {

    if (max > tmax)
      tmax = max;
    sumAvg += avg;
    sumruzgar+= ruzgarHizi;

  }
  fclose(kaynak);
    
  while (fscanf(kaynak1, "%s %s %d %d %d %s %d", lokasyon, gun, &max, &min, &avg, havaDurumu, &ruzgarHizi) == 7) {

    if (tmax ==max)

    fprintf(hedef,"Bu hafta istanbul'un ortalama sıcaklığı %d oldu. Bu haftanın en sıcak günü %d santigrat derece ile %s oldu. Bu haftanın ortalama rüzgar hızı %d Km/s dir. \n\n", (sumAvg/7), tmax, gun, (sumruzgar/7));
    } 
  fclose(kaynak1);
  fclose(hedef);
}

int main(void) {

  analiz();

    
  return 0;
}
